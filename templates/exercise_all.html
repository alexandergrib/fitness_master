{% extends "base.html" %}

{% block title %}
    Exercises
{% endblock %}

{% block content %}
    <h2 class="center-align">Exercises</h2>
    <!-- Cards container -->
    <div class="workout-wrapper">
        <div class="row">
            <div class="col s6 m4">
                <div class="switch">
                    <label>Show system exercises:<input type="checkbox" id="system_exercises"  onclick="hideSystemExercises()"><span class="lever"></span></label>
                </div>
            </div>

            <form action="{{ url_for('search') }} " method="POST" class="col m4 s12 exercise--form">
                <div class="valign-wrapper center-align">
                    <div class="input-field">
                        <i class="fas fa-search prefix light-blue-text text-darken-4"></i>
                        <input type="text" name="query" id="query" minlength="3" class="validate">
                        <label for="query">Search exercises</label>

                    </div>
                </div>
           </form>
            <div class="col s6 m4 right-align exercise-form-button">
                <div class="add-new-button">
                    <a href="{{url_for('create_exercise')}}">Add new exercise <i class="fas fa-plus-circle"></i></a>
                </div>
            </div>
        </div>
        <!--Generate list of exercises -->
        <div class="admin-exercises">
            {% for system in exercise_list_admin %}
                <div class="row workout--row">
                    <a href="{{ url_for("get_exercise", exercise_id=system._id) }}">
                        <div class="col s6 exercise--card">
                            <div class="row">
                                <div class="col s12 "><span>{{ system.exercise_name | truncate(26, False, '...', 0) }} [SYSTEM]</span></div>
                                <div class="col s12 exercise--card--description"><p>{{ system.description | truncate(150, False, '...', 0) }}</p></div>
                            </div>

                        </div>
                        <div class="col s6 exercise--card">
                            <img src="{{ system.img_url }}" alt="{{ system.exercise_name | truncate(26, False, '...', 0) }} image" width="250" height="250" class="exercise--img">


                        </div>
                    </a>

                </div>
            {% endfor %}
        </div>
        <div class="user-exercises">
            {% for exercise in exercise_list %}            
                    <div class="row workout--row">
                        <a href="{{ url_for("get_exercise", exercise_id=exercise._id) }}">
                            <div class="col s6 exercise--card">
                                <div class="row">
                                    <div class="col s12 "><span>{{ exercise.exercise_name | truncate(26, False, '...', 0) }}</span></div>
                                    <div class="col s12 exercise--card--description"><p>{{ exercise.description | truncate(250, False, '...', 0) }}</p></div>
                                </div>

                            </div>
                            <div class="col s6 exercise--card">
                                <img src="{{ exercise.img_url }}" alt="{{ exercise.exercise_name | truncate(26, False, '...', 0) }} image" width="250" height="250" class="exercise--img">


                            </div>
                        </a>

                    </div>
            {% endfor %}
            </div>
    </div>

{% endblock %}



{% block scripts %}
    <script src="{{ url_for('static', filename='js/all_exercise.js') }}"></script>
{% endblock %}  

